- name: Create conda envs
  ansible.builtin.command:
    conda create --name {{ item.env_name }} python={{ item.ver }} --yes
  loop: "{{ python_versions }}"

- name: Clone github repositories
  ansible.builtin.git:
    repo: "{{ item.repo }}"
    dest: "{{ item.target_path }}"
    clone: yes
    #update: yes
  loop: "{{ git_repos }}"

- name: Pipx install
  command:
    cmd: "pipx install {{ item }}"
  tags:
  - pipx
  loop:
    - awscli
    - black
    - bpytop
    - httpx[cli]
    - 'maestral[gui]'
    - parquet-tools
    - tldr

- name: Install vim plugins
  ansible.builtin.git:
    repo: "{{ item.plugin_git_source }}"
    dest: "{{ item.plugin_target_path }}"
  loop: "{{ vim_plugins }}"
